## 调试

- sizeof(vertecies) 返回的是vertecies的**类型**Vertex的字节数
- 索引缓冲的数据类型定义和使用要一致
- 缓冲的偏移最小值（256）
- anvil的image的base_mipmap，高要为偶数
- 图像、图像视图（及帧缓冲附件）、渲染流程附件，三者都需要设置图像格式！！！
- OpenGL、Vulkan、D3D、Metal裁剪坐标系和UV的区别
- 等所有类实例化后再处理消息：设置条件断点
- 主循环封装在m_window_ptr中，不能对它重新初始化
- compute不能放进render pass里
- vulkan推常数是在记录指令时就写死的
- 数据对齐：vulkan uniform buffer使用的是“vector-relaxed”std140，storage buffer使用的是“vector-relaxed”std430。std140的buffer里的数组要对齐为vec4大小
- vulkan矩阵只能以列为主，一级索引就是列向量；D3D默认以行为主，一级索引是行向量，但可以初始化为以列为主。主要是shader与外部数据格式要统一，至于内部储存和使用的规则是一样的，所以是列还是行都无所谓。glm是以行为主储存的！
- 一步一步输出颜色，00-0，01-0.33，10-0.66，11-1.0，格式A2无法写入值，是设备原因吗？只能从材质那里挪一位给它了。
- 深度图像，会有散列分布的点无法读取，猜测可能是同步问题？暂时放弃使用深度图像，自己单独存放

## vulkan优化

+ 只申请一块内存
+ 只申请一块缓冲区
+ 把所有数据存到这个缓冲区中
+ 延迟纹理mipmap无效，因为在计算着色器中无法获取顶点到屏幕的距离，可以使用textureGrad采样
+ 绑定的uniform最多只能15个

